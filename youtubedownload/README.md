# YouTube Download Tool

`yt-dlp` を使用したシンプルな動画ダウンロードツールです。

## 必要要件

- Python 3.13以上
- `uv` (パッケージマネージャー)

## インストール

依存関係をインストールします。

```bash
uv sync
```

## 使い方

### コマンドライン引数でURLを指定する場合

```bash
uv run main.py <動画URL>
```

### インタラクティブに入力する場合

引数なしで実行すると、URLの入力を求められます。

```bash
uv run main.py
```

ダウンロードされた動画は `downloads` ディレクトリに保存されます。

## 詳細情報

### 機能

- **高画質ダウンロード**: `bestvideo+bestaudio` 形式で最高画質の映像と音声を取得
- **自動結合**: `ffmpeg` を使用して映像と音声を自動的にMP4に結合
- **ffmpeg 自動インストール**: `static-ffmpeg` パッケージにより、ffmpeg バイナリを自動的に配置
- **プレイリスト除外**: 単一動画のみをダウンロード（プレイリストは無視）
- **エラーハンドリング**: 無効なURL、ネットワークエラーなどに対応

### 技術仕様

- **ダウンロードライブラリ**: `yt-dlp` 2025.6.9以上
- **ffmpeg**: `static-ffmpeg` 2.13 により自動配置
- **出力形式**: MP4 (H.264/VP9 映像 + AAC/Opus 音声)
- **保存先**: `downloads` ディレクトリ（自動作成）
- **ファイル名**: 動画タイトルに基づいて自動命名

### 対応サイト

`yt-dlp` が対応する全てのサイトからダウンロード可能です。主な対応サイト:

- YouTube
- ニコニコ動画
- Twitter (X)
- TikTok
- その他1000以上のサイト

詳細は [yt-dlp の公式ドキュメント](https://github.com/yt-dlp/yt-dlp#supported-sites) を参照してください。

## トラブルシューティング

### ダウンロードが失敗する場合

1. **ネットワーク接続を確認**してください
2. **URL が正しいか確認**してください
3. **yt-dlp を最新版に更新**してください:
   ```bash
   uv add "yt-dlp>=2025.11.0"
   ```

### ffmpeg のエラーが発生する場合

初回実行時、`static-ffmpeg` が ffmpeg バイナリを自動的にダウンロードします。
ネットワーク環境により時間がかかる場合があります（数分程度）。

### プレイリスト全体をダウンロードしたい場合

`main.py` の `noplaylist: True` を `noplaylist: False` に変更してください。

## ライセンス

このツールは MIT ライセンスの下で提供されています。
